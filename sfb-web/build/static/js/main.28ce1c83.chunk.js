(this["webpackJsonpsfb-web"]=this["webpackJsonpsfb-web"]||[]).push([[0],{137:function(e,t,n){},138:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),s=n(4),i=n.n(s),o=n(52),l=n(109),d=n(5),u=n(70),p="@sfb-Token",j=function(){return localStorage.getItem("codigo")},b=function(e,t){localStorage.setItem(p,e),localStorage.setItem("codigo",t)},h=n(6),m=n.n(h),x=n(14),f=n(95),v=n(96),O=n(110),g=n(108),N=n.p+"static/media/logo_SFB.536da5ae.png",w=n(97),k=n.n(w).a.create({baseURL:"http://192.168.255.253:5000/api/v1/simple-fast-backup"});k.interceptors.request.use(function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem(p),console.log("token :",n),n&&(t.headers.Authorization="Bearer ".concat(n),t.headers.common["x-access-token"]=n),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var _=k;function y(e,t){return S.apply(this,arguments)}function S(){return(S=Object(x.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.put("/login",{password_call:t,nome:n});case 3:return a=e.sent,e.abrupt("return",a&&a.data?a.data:{cliente:[]});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null===e.t0||void 0===e.t0?void 0:e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var B=n(40),z=n(41);function C(){var e=Object(B.a)(["\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #fc6963;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n"]);return C=function(){return e},e}function Y(){var e=Object(B.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]);return Y=function(){return e},e}var I=z.b.div(Y()),M=z.b.form(C()),D=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={client:"",password:"",error:""},e.handleSignIn=function(){var t=Object(x.a)(m.a.mark((function t(n){var a,c,r,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=e.state,c=a.client,r=a.password,c&&r){t.next=6;break}e.setState({error:"Preencha usu\xe1rio e senha para continuar!"}),t.next=18;break;case 6:return t.prev=6,t.next=9,y(r,c);case 9:s=t.sent,console.log("response :",s),b(s.token,s.codigo),e.props.history.push("/app"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(6),e.setState({error:"Houve um problema com o login, verifique suas credenciais."});case 18:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)(I,{children:Object(a.jsxs)(M,{onSubmit:this.handleSignIn,children:[Object(a.jsx)("img",{src:N,alt:"SFB logo"}),this.state.error&&Object(a.jsx)("p",{children:this.state.error}),Object(a.jsx)("input",{placeholder:"Usu\xe1rio",onChange:function(t){return e.setState({client:t.target.value})}}),Object(a.jsx)("input",{type:"password",placeholder:"Senha",onChange:function(t){return e.setState({password:t.target.value})}}),Object(a.jsx)("button",{type:"submit",children:"Entrar"}),Object(a.jsx)("hr",{})]})})}}]),n}(c.Component),F=Object(d.g)(D),A=n(29),E=n(190),H=n(189);function L(){return(L=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("/".concat(t));case 3:return n=e.sent,e.abrupt("return",n&&n.data?n.data:{codigo:0,nome:"",usuario:"",ip:"",origem_bkp:"",uso_max_armaz:0,porc_uso_armaz:0,perm_alerta:0,perm_bkp_autm:0,hora_bkp_autm:0,apto_backup:0,user_block:0});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null===e.t0||void 0===e.t0?void 0:e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}n(137),n(138);function R(){return(R=Object(x.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.put("".concat(t,"/ativar-backup?perm_bkp_autm=").concat(n));case 3:return a=e.sent,e.abrupt("return",a&&a.data?a.data:{error:!0});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null===e.t0||void 0===e.t0?void 0:e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function q(){return(q=Object(x.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.put("".concat(t,"/ativar-notificacao?perm_alerta=").concat(n));case 3:return a=e.sent,e.abrupt("return",a&&a.data?a.data:{error:!0});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null===e.t0||void 0===e.t0?void 0:e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function J(){return(J=Object(x.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.put("".concat(t,"/hora-backup?hora_bkp_autm=").concat(n));case 3:return a=e.sent,e.abrupt("return",a&&a.data?a.data:{error:!0});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null===e.t0||void 0===e.t0?void 0:e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}n(186);var P=n(69),T=n.n(P);function U(e){var t=e.id,n=e.label,c=e.onChange,r=e.checked,s=e.disabled;return Object(a.jsxs)("label",{htmlFor:t,children:[Object(a.jsxs)("span",{style:{marginRight:"16px"},children:[n,":"]}),Object(a.jsx)(T.a,{onChange:c,checked:r,onColor:"#86d3ff",onHandleColor:"#2693e6",handleDiameter:18,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:16,width:48,className:"react-switch",id:t,disabled:s})]})}var G=n(107),K=n(19),V=n.n(K);n(183);function Q(e){var t=c.useState({codigo:0,nome:"",usuario:"",ip:"",origem_bkp:"",uso_max_armaz:0,porc_uso_armaz:0,perm_alerta:0,perm_bkp_autm:0,hora_bkp_autm:0,apto_backup:0,user_block:0}),n=Object(A.a)(t,2),r=n[0],s=n[1],i=c.useState(!1),o=Object(A.a)(i,2),l=o[0],d=o[1],u=c.useState(0),p=Object(A.a)(u,2),b=p[0],h=p[1],m=c.useState(!1),x=Object(A.a)(m,2),f=x[0],v=x[1],O=c.useState(!1),g=Object(A.a)(O,2),w=g[0],k=g[1],_=c.useState(""),y=Object(A.a)(_,2),S=y[0],B=y[1];return c.useEffect((function(){h(Number(j())),function(e){return L.apply(this,arguments)}(j()).then((function(e){console.log("data :",e),s(e),v(1===e.perm_alerta),k(1===e.perm_bkp_autm),B(e.hora_bkp_autm)})).catch((function(e){console.log(e)}))}),[]),Object(a.jsx)("div",{id:"app",children:Object(a.jsx)("section",{className:"section",children:Object(a.jsxs)("div",{className:"dashboard",children:[Object(a.jsx)("div",{className:"is-title-bar",children:Object(a.jsx)("div",{className:"level",children:Object(a.jsx)("div",{className:"level-left",children:Object(a.jsx)("div",{className:"level-item",children:Object(a.jsxs)("h1",{className:"title",children:["Ol\xe1 ",r.nome]})})})})}),Object(a.jsxs)("div",{className:"tile is-ancestor",children:[Object(a.jsx)("div",{className:"tile is-parent",children:Object(a.jsx)("div",{className:"card tile is-child d-flex justify-content-center ",children:Object(a.jsx)("div",{className:"card-content",children:Object(a.jsx)("div",{className:"level",children:Object(a.jsx)("div",{className:"level-item",children:Object(a.jsxs)("div",{className:"is-widget-label w-100",children:[Object(a.jsx)("h3",{className:"subtitle is-spaced",children:"Espa\xe7o utilizado:"}),Object(a.jsx)("div",{className:"w-100",children:Object(a.jsx)(E.a,{animated:!0,now:r.porc_uso_armaz,variant:r.porc_uso_armaz>90?"warning":"info",label:"".concat(r.porc_uso_armaz,"%")})})]})})})})})}),Object(a.jsx)("div",{className:"tile is-parent",children:Object(a.jsx)("div",{className:"card tile is-child d-flex justify-content-center ",children:Object(a.jsx)("div",{className:"card-content",children:Object(a.jsxs)("div",{className:"level",children:[Object(a.jsx)("div",{className:"level-item has-widget-icon",children:Object(a.jsx)("div",{className:"is-widget-icon",children:Object(a.jsx)("span",{className:"icon has-text-info is-large",children:Object(a.jsx)("img",{src:N,alt:"SFB logo"})})})}),Object(a.jsx)("div",{className:"level-item",children:Object(a.jsxs)("div",{className:"is-widget-label w-100",children:[Object(a.jsx)("h3",{className:"subtitle is-spaced",children:"Espa\xe7o contratado:"}),Object(a.jsx)("code",{children:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=["Bytes","KB","MB","GB","TB"];if(0==e)return"n/a";var a=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return 0===a?"".concat(e).concat(t).concat(n[a]):"".concat((e/Math.pow(1024,a)).toFixed(1)).concat(t).concat(n[a])}(r.uso_max_armaz)})]})})]})})})}),Object(a.jsx)("div",{className:"tile is-parent",children:Object(a.jsx)("div",{className:"card tile is-child d-flex justify-content-center ",children:Object(a.jsx)("div",{className:"card-content",children:Object(a.jsx)("div",{className:"level",children:Object(a.jsx)("div",{className:"level-item",children:Object(a.jsx)("div",{className:"is-widget-label w-100",children:Object(a.jsx)(U,{label:"Notifica\xe7\xf5es",onChange:function(e){(function(e,t){return q.apply(this,arguments)})(b,e?1:0).then((function(t){t.error||v(e)})).finally((function(){d(!1)}))},checked:f,id:"perm_alerta",disabled:l})})})})})})})]}),Object(a.jsxs)("div",{className:"tile is-ancestor",children:[Object(a.jsx)("div",{className:"tile is-parent",style:{flex:"0.6"},children:Object(a.jsx)("div",{className:"card tile is-child d-flex justify-content-center ",children:Object(a.jsx)("div",{className:"card-content",children:Object(a.jsx)("div",{className:"level",children:Object(a.jsx)("div",{className:"level-item",children:Object(a.jsx)("div",{className:"is-widget-label w-100",children:Object(a.jsx)(U,{label:"Backup Automatico",onChange:function(e){console.log("horaBackup :",S),console.log("horaBackup :",V()(S,"DD/MM/YYYY hh:mm:ss")),function(e,t){return R.apply(this,arguments)}(b,e?1:0).then((function(t){t.error||k(e)})).finally((function(){d(!1)}))},checked:w,id:"perm_bkp_autm",disabled:l})})})})})})}),Object(a.jsx)("div",{className:"tile is-parent",children:Object(a.jsx)("div",{className:"card tile is-child d-flex justify-content-center ",children:Object(a.jsx)("div",{className:"card-content",children:Object(a.jsx)("div",{className:"level",children:Object(a.jsx)("div",{className:"level-item",children:Object(a.jsxs)("div",{className:"is-widget-label w-100",children:[S&&Object(a.jsx)(G.a,{defaultValue:V()("".concat(V()().format("DD/MM/YYYY")," ").concat(S),"DD/MM/YYYY hh:mm:ss"),format:"hh:mm",showSecond:!1,onChange:function(e){B(e.format("hh:mm:ss"))}}),Object(a.jsx)(H.a,{style:{marginLeft:"16px"},onClick:function(){console.log("horaBackup :",S),function(e,t){return J.apply(this,arguments)}(b,S).then((function(e){e.error})).finally((function(){d(!1)}))},variant:"outline-primary",children:"Salvar Hora do Backup Autom\xe1tico"})]})})})})})}),Object(a.jsx)("div",{className:"tile is-parent",style:{flex:"0.4"},children:Object(a.jsx)("div",{className:"card tile is-child d-flex justify-content-center ",children:Object(a.jsx)("div",{className:"card-content",children:Object(a.jsx)("div",{className:"level",children:Object(a.jsx)("div",{className:"level-item",children:Object(a.jsx)("div",{className:"is-widget-label w-100",children:Object(a.jsx)(H.a,{style:{marginLeft:"16px"},onClick:function(){realizarBackup(b).then((function(e){e.error})).finally((function(){d(!1)}))},variant:"outline-primary",children:"Realizar Backup"})})})})})})})]}),Object(a.jsx)("div",{className:"tile is-ancestor",children:Object(a.jsx)("div",{className:"tile is-parent",style:{flex:"0.6"}})})]})})})}n(184);function W(){var e=Object(B.a)(["\n* {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n  outline: 0;\n}\nbody, html {\n  background: #eee;\n  font-family: 'Helvetica Neue', 'Helvetica', Arial, sans-serif;\n  text-rendering: optimizeLegibility !important;\n  -webkit-font-smoothing: antialiased !important;\n  height: 100%;\n  width: 100%;\n}\n"]);return W=function(){return e},e}var X=Object(z.a)(W()),Z=function(e){var t=e.component,n=Object(l.a)(e,["component"]);return Object(a.jsx)(d.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return function(){var e=localStorage.getItem(p);return e&&e.length>0&&null!==e&&"undefined"!=="".concat(e)}()?Object(a.jsx)(t,Object(o.a)({},e)):Object(a.jsx)(d.a,{to:{pathname:"/",state:{from:e.location}}})}}))},$=function(){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(u.a,{children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{exact:!0,path:"/",component:F}),Object(a.jsx)(Z,{path:"/app",component:Q}),Object(a.jsx)(d.b,{path:"*",component:function(){return Object(a.jsx)("h1",{children:"Page not found"})}})]})}),Object(a.jsx)(X,{})]})},ee=function(){return Object(a.jsx)($,{})};n(185);i.a.render(Object(a.jsx)(ee,{}),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.28ce1c83.chunk.js.map